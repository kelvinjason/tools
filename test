import com.itextpdf.kernel.pdf.*;
import com.itextpdf.layout.Document;
import com.itextpdf.layout.element.Paragraph;
import com.itextpdf.layout.property.TextAlignment;
import com.itextpdf.kernel.geom.Rectangle;
import com.itextpdf.kernel.font.PdfFont;
import com.itextpdf.kernel.font.PdfFontFactory;

import java.io.IOException;

public class PdfTemplateFiller {
    public static void main(String[] args) throws IOException {
        String templatePath = "path/to/your/template.pdf";
        String outputPath = "path/to/output/filled.pdf";

        PdfDocument pdfDoc = new PdfDocument(new PdfReader(templatePath), new PdfWriter(outputPath));
        Document document = new Document(pdfDoc);

        String placeholder = "<cust_name>"; // 占位符文本
        String replacementText = "John Doe"; // 要替换的文本

        PdfFont font = PdfFontFactory.createFont("STSongStd-Light", "UniGB-UCS2-H", false);

        for (int i = 0; i < pdfDoc.getNumberOfPages(); i++) {
            PdfPage page = pdfDoc.getPage(i + 1);
            Rectangle rect = page.getPageSize();
            PdfCanvas pdfCanvas = new PdfCanvas(page);

            String content = new String(pdfCanvas.getContentStream().toByteArray());
            if (content.contains(placeholder)) {
                content = content.replace(placeholder, replacementText);
                pdfCanvas.release();
                pdfCanvas = new PdfCanvas(page.newContentStreamBefore(), page.getResources(), pdfDoc);

                Paragraph paragraph = new Paragraph(content).setFont(font).setFontSize(12).setTextAlignment(TextAlignment.LEFT);
                document.showTextAligned(paragraph, rect.getLeft(), rect.getTop(), i + 1);
            }
        }

        document.close();
        pdfDoc.close();
    }
}
<dependency>
    <groupId>com.itextpdf</groupId>
    <artifactId>kernel</artifactId>
    <version>7.1.15</version>
</dependency>
<dependency>
    <groupId>com.itextpdf</groupId>
    <artifactId>layout</artifactId>
    <version>7.1.15</version>
</dependency>
<dependency>
    <groupId>com.itextpdf</groupId>
    <artifactId>forms</artifactId>
    <version>7.1.15</version>
</dependency>
